(function(t){function e(e){for(var n,o,i=e[0],c=e[1],l=e[2],p=0,f=[];p<i.length;p++)o=i[p],a[o]&&f.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},a={app:0},s=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=r("bc3a"),s=r.n(a),o={},i=s.a.create(o);i.interceptors.request.use(function(t){return t},function(t){return Promise.reject(t)}),i.interceptors.response.use(function(t){return t},function(t){return Promise.reject(t)}),Plugin.install=function(t,e){t.axios=i,window.axios=i,Object.defineProperties(t.prototype,{axios:{get:function(){return i}},$axios:{get:function(){return i}}})},n["a"].use(Plugin);Plugin;var c=r("bb71");r("da64");n["a"].use(c["a"],{iconfont:"md"});var l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{md8:"","mr-3":""}},[r("v-layout",{attrs:{column:"","justify-center":""}},[r("NumberPhrase"),r("Phrase"),r("Ner"),r("Action")],1)],1),r("v-flex",{attrs:{lg3:"",md5:"",sm6:""}},[r("Skills")],1)],1)],1)],1)},u=[],p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",[r("v-flex",{attrs:{xs12:""}},[r("v-card",[r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("div",{ref:"target_str",staticClass:"subheading"},[t._l(t.Phrase.ners[0],function(e,n){return[r("span",{key:"t_"+n,ref:"target",refInFor:!0,staticClass:"token",style:t.getColor(n),on:{mousedown:function(e){t.pos[0]=n},mouseup:function(e){return t.mark_t(n)}}},[t._v("\n                  "+t._s(e)+"\n                  "),r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("span",t._g({staticClass:"tooltip"},a),[t._v(t._s(t.getType(n)))])]}}],null,!0)},[r("span",[t._v(t._s(t.getDesc(n)))])])],1)]})],2),r("div",{staticClass:"clb"}),r("v-btn",{attrs:{text:"",small:""},on:{click:function(e){t.expansion=!t.expansion}}},[t._v("Полный текст")])],1)]),t.expansion?r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("div",{staticClass:"subheading grey--text"},[t._v(t._s(t.Phrase.full_text))]),r("span",{staticClass:"grey--text"},[t._v("Полный текст")])])]):t._e()],1)],1)],1)},f=[],d=(r("8e6e"),r("ac6a"),r("456d"),r("7514"),r("a481"),r("f559"),r("55dd"),r("bd86")),v=r("2f62");r("4be7");function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(r,!0).forEach(function(e){Object(d["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var b={name:"Phrase",data:function(){return{expansion:!1,pos:[]}},computed:m({},Object(v["b"])(["Phrase","ListSkills","Ners"])),watch:{Phrase:function(t,e){this.expansion=!1}},methods:{mark_t:function(t){this.pos[1]=t,this.pos.sort(function(t,e){return t-e}),this.$store.commit("markToken",this.pos)},getType:function(t){var e=this.Phrase.ners[1];return t==e.length-1?this.getPrevType(t):this.getNextType(t)},getNextType:function(t){var e=this.Phrase.ners[1],r=e[t],n=e[t+1];return"O"!=r&&n.startsWith("B-")?r.replace("B-","").replace("I-",""):(r=r.replace("B-","").replace("I-",""),n=n.replace("B-","").replace("I-",""),"O"===r?"":r===n?"":r)},getPrevType:function(t){var e=this.Phrase.ners[1],r=e[t];if(1==e.length)return"O"!=r?r.replace("B-",""):"";var n=e[t-1];return"O"!=r&&r.startsWith("B-")&&n.startsWith("B-")?r.replace("B-",""):(r=r.replace("B-","").replace("I-",""),n=n.replace("B-","").replace("I-",""),"O"===r?"":t!=e.length-1&&r===n?"":r)},getNer:function(t){return this.Ners.find(function(e){return e.abbr===t})},getColor:function(t){var e=this.Phrase.ners[1],r=e[t];if("O"===r)return"background-color: #fff";var n=r.replace("B-","").replace("I-",""),a=this.getNer(n);return""!=a.color?"background-color: "+a.color:"background-color: #777"},getDesc:function(t){var e=this.Phrase.ners[1],r=e[t];return"O"===r?"":this.getNer(r.replace("B-","").replace("I-","")).desc}},mounted:function(){var t=this;this.$store.dispatch("getPhrase").then(function(e){t.$store.commit("markFalseActiveListSkills"),t.$store.commit("markActiveListSkills",e)})}},y=b,g=(r("aea2"),r("2877")),k=r("6544"),O=r.n(k),_=r("8336"),P=r("b0af"),x=r("12b2"),w=r("0e8f"),S=r("a722"),j=r("3a2f"),V=Object(g["a"])(y,p,f,!1,null,null,null),N=V.exports;O()(V,{VBtn:_["a"],VCard:P["a"],VCardTitle:x["a"],VFlex:w["a"],VLayout:S["a"],VTooltip:j["a"]});var E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs8:"","offset-xs2":"","mt-3":""}},[r("v-card",[r("v-card-actions",[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"action",attrs:{color:0==t.valid?"error":"grey",fab:"",dark:""},on:{click:function(e){t.valid=!1}}},n),[r("v-icon",[t._v("thumb_down")])],1)]}}])},[r("span",[t._v("Не валидно")])]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{color:1==t.valid?"success":"grey",fab:"",dark:""},on:{click:function(e){t.valid=!0}}},n),[r("v-icon",[t._v("thumb_up")])],1)]}}])},[r("span",[t._v("Валидно")])]),r("v-spacer"),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"action",attrs:{color:"grey",fab:"",dark:"",small:""},on:{click:t.undo}},n),[r("v-icon",[t._v("undo")])],1)]}}])},[r("span",[t._v("Вернуть")])]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{color:"grey",fab:"",dark:"",small:""},on:{click:t.nero_refresh}},n),[r("v-icon",[t._v("refresh")])],1)]}}])},[r("span",[t._v("Обновить NER")])]),r("v-spacer"),r("v-btn",{attrs:{color:"primary",dark:""},on:{click:t.savePhrase}},[t._v("Далее")])],1)],1)],1)],1)},L=[];function $(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$(r,!0).forEach(function(e){Object(d["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var C={name:"Action",data:function(){return{valid:null}},computed:T({},Object(v["b"])(["Phrase"])),watch:{Phrase:function(t,e){"True"===t.valid?this.valid=!0:"False"===t.valid?this.valid=!1:this.valid=null}},methods:{savePhrase:function(){var t=this;null!==this.valid&&this.$store.dispatch("savePhrase",{valid:this.valid}).then(function(){t.valid=null,t.$store.dispatch("getPhrase"),t.$store.dispatch("getListSkills")})},undo:function(){var t=this;this.$store.dispatch("OpenEl",this.Phrase.id).then(function(e){t.$store.commit("updatePhrase",e),t.$store.commit("markFalseActiveListSkills"),t.$store.commit("markActiveListSkills",e.skills)})},nero_refresh:function(){var t=this;this.$store.dispatch("nero_refresh",this.Phrase.id).then(function(e){t.$store.commit("updatePhrase",e),t.$store.commit("markFalseActiveListSkills"),t.$store.commit("markActiveListSkills",e.skills)})}}},D=C,A=(r("c759"),r("99d9")),B=r("132d"),F=r("9910"),J=Object(g["a"])(D,E,L,!1,null,null,null),I=J.exports;O()(J,{VBtn:_["a"],VCard:P["a"],VCardActions:A["a"],VFlex:w["a"],VIcon:B["a"],VLayout:S["a"],VSpacer:F["a"],VTooltip:j["a"]});var q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("v-toolbar",{attrs:{color:"cyan",dark:"",height:"56"}},[t._v("\n    Скилы\n    "),r("v-spacer"),r("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{icon:"",color:"red lighten-1",dark:""}},n),[r("v-icon",[t._v("add")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("Добавление нового скила")]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Наименование*",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Описание"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1)],1)],1),r("small",[t._v("*Обязательно для заполнения")])],1),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.dialogClose}},[t._v("Закрыть")]),r("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.addSkill}},[t._v("Добавить")])],1)],1)],1)],1),r("v-list",{class:"listskills",attrs:{"one-line":""}},[t._l(t.ListSkills,function(e,n){return[r("v-list-tile",{key:"skill-"+n},[r("v-switch",{attrs:{color:"primary",label:e.name},model:{value:e.active,callback:function(r){t.$set(e,"active",r)},expression:"item.active"}}),r("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-icon",t._g({attrs:{small:""}},n),[t._v("help")])]}}],null,!0)},[r("span",[t._v(t._s(e.desc))])])],1),r("v-divider",{key:n,attrs:{inset:e.inset}})]})],2)],1)},M=[];r("7f7f");function W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?W(r,!0).forEach(function(e){Object(d["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var R={name:"Skills",data:function(){return{dialog:!1,name:"",desc:""}},mounted:function(){this.$store.dispatch("getListSkills")},computed:z({},Object(v["b"])(["ListSkills"])),methods:{dialogClose:function(){this.dialog=!1,this.name="",this.desc=""},addSkill:function(){var t=this;this.$store.dispatch("addSkill",{name:this.name,desc:this.desc}).then(function(){t.dialogClose()})}}},G=R,H=r("a523"),K=r("169a"),Q=r("ce7e"),U=r("8860"),X=r("ba95"),Y=r("b73d"),Z=r("2677"),tt=r("71d9"),et=Object(g["a"])(G,q,M,!1,null,null,null),rt=et.exports;O()(et,{VBtn:_["a"],VCard:P["a"],VCardActions:A["a"],VCardText:A["b"],VCardTitle:x["a"],VContainer:H["a"],VDialog:K["a"],VDivider:Q["a"],VFlex:w["a"],VIcon:B["a"],VLayout:S["a"],VList:U["a"],VListTile:X["a"],VSpacer:F["a"],VSwitch:Y["a"],VTextField:Z["a"],VToolbar:tt["a"],VTooltip:j["a"]});var nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:""}},[r("v-flex",[r("v-card",[r("v-container",[r("span",{staticClass:"grey--text"},[t._v("Фраза")]),r("p",{staticClass:"text--primary"},[t._v(t._s(t.token))]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-autocomplete",{attrs:{items:t.ners,label:"Тип",placeholder:"Тип..."},model:{value:t.type_phrase,callback:function(e){t.type_phrase=e},expression:"type_phrase"}}),r("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{icon:"",color:"red lighten-1",dark:""}},n),[r("v-icon",[t._v("add")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("Добавление нового типа")]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs6:""}},[r("v-text-field",{attrs:{label:"Наименование*",required:""},model:{value:t.new_type.name,callback:function(e){t.$set(t.new_type,"name",e)},expression:"new_type.name"}})],1),r("v-flex",{attrs:{xs6:""}},[r("v-text-field",{attrs:{label:"Аббревиатура*",required:""},model:{value:t.new_type.abbr,callback:function(e){t.$set(t.new_type,"abbr",e)},expression:"new_type.abbr"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Описание"},model:{value:t.new_type.desc,callback:function(e){t.$set(t.new_type,"desc",e)},expression:"new_type.desc"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Сортировка"},model:{value:t.new_type.sort,callback:function(e){t.$set(t.new_type,"sort",e)},expression:"new_type.sort"}})],1),r("v-flex",{attrs:{xs6:""}},[r("v-text-field",{attrs:{label:"Цвет",required:""},model:{value:t.new_type.color,callback:function(e){t.$set(t.new_type,"color",e)},expression:"new_type.color"}})],1),r("v-flex",{attrs:{xs6:""}},[r("v-text-field",{staticStyle:{"pointer-events":"none"},style:"background-color: "+t.new_type.color,attrs:{label:"Образец"},model:{value:t.new_type.abbr,callback:function(e){t.$set(t.new_type,"abbr",e)},expression:"new_type.abbr"}})],1)],1)],1),r("small",[t._v("*Обязательно для заполнения")])],1),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("Закрыть")]),r("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.addNer}},[t._v("Добавить")])],1)],1)],1)],1)],1)],1)],1)],1)},at=[];function st(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function ot(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?st(r,!0).forEach(function(e){Object(d["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):st(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var it={name:"Ner",data:function(){return{token:"",type_phrase:null,dialog:!1,new_type:{name:"",desk:"",abbr:"",color:"",sort:500}}},computed:ot({},Object(v["b"])(["Ners","start","stop","Phrase"]),{ners:function(){return this.Ners.map(function(t){return t.name})}}),watch:{start:function(t,e){this.getList(),this.type_phrase=null},stop:function(t,e){this.getList(),this.type_phrase=null},type_phrase:function(t,e){if(t&&""!=this.token){var r=this.Ners.find(function(e){return e.name===t});this.$store.commit("updateNer",{type:r.abbr,start:this.start,stop:this.stop})}},dialog:function(t,e){0==t&&(this.new_type={name:"",desk:"",abbr:"",color:"",sort:500})}},methods:{getList:function(){for(var t="",e=this.start;e<=this.stop;e++)t+=" "+this.Phrase.ners[0][e];this.token=t},addNer:function(){var t=this;this.$store.dispatch("addNer",this.new_type).then(function(){return t.dialog=!1})}},mounted:function(){this.$store.dispatch("getNers")}},ct=it,lt=r("c6a6"),ut=Object(g["a"])(ct,nt,at,!1,null,null,null),pt=ut.exports;O()(ut,{VAutocomplete:lt["a"],VBtn:_["a"],VCard:P["a"],VCardActions:A["a"],VCardText:A["b"],VCardTitle:x["a"],VContainer:H["a"],VDialog:K["a"],VDivider:Q["a"],VFlex:w["a"],VIcon:B["a"],VLayout:S["a"],VSpacer:F["a"],VTextField:Z["a"]});var ft=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xl4:"","offset-xl4":"",lg6:"","offset-lg3":"",md8:"","offset-md2":"",sm10:"","offset-sm1":"",xs12:"","mb-3":""}},[r("v-card",[r("v-card-actions",[r("v-btn",{attrs:{color:"grey",fab:"",dark:"",disabled:1===t.Phrase.id},on:{click:t.PrevEl}},[r("v-icon",[t._v("chevron_left")])],1),r("v-spacer"),r("v-text-field",{attrs:{"mr-3":""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.OpenEl(e)}},model:{value:t.phrase_id,callback:function(e){t.phrase_id=e},expression:"phrase_id"}}),r("v-spacer"),r("v-btn",{attrs:{color:"grey",fab:"",dark:"",disabled:t.Phrase.id===t.Phrase.last_phrase},on:{click:t.NextEl}},[r("v-icon",[t._v("chevron_right")])],1)],1)],1)],1)],1)},dt=[];function vt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function ht(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vt(r,!0).forEach(function(e){Object(d["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vt(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var mt={name:"NumberPhrase",data:function(){return{phrase_id:""}},computed:ht({},Object(v["b"])(["Phrase","ListSkills"])),watch:{Phrase:function(t,e){this.phrase_id=t.id}},methods:{PrevEl:function(){var t=this;this.$store.dispatch("PrevEl",this.phrase_id).then(function(e){return t.updateEl(e)})},NextEl:function(){var t=this;this.$store.dispatch("NextEl",this.phrase_id).then(function(e){return t.updateEl(e)})},OpenEl:function(){var t=this;this.$store.dispatch("OpenEl",this.phrase_id).then(function(e){return t.updateEl(e)})},updateEl:function(t){this.$store.commit("updatePhrase",t),this.$store.commit("markFalseActiveListSkills"),this.$store.commit("markActiveListSkills",t.skills)}}},bt=mt,yt=Object(g["a"])(bt,ft,dt,!1,null,null,null),gt=yt.exports;O()(yt,{VBtn:_["a"],VCard:P["a"],VCardActions:A["a"],VFlex:w["a"],VIcon:B["a"],VLayout:S["a"],VSpacer:F["a"],VTextField:Z["a"]});var kt={name:"App",components:{Phrase:N,Action:I,Skills:rt,Ner:pt,NumberPhrase:gt}},Ot=kt,_t=r("7496"),Pt=Object(g["a"])(Ot,l,u,!1,null,null,null),xt=Pt.exports;O()(Pt,{VApp:_t["a"],VContainer:H["a"],VFlex:w["a"],VLayout:S["a"]});r("3022");var wt={state:{Phrase:{id:null,text:""}},getters:{Phrase:function(t){return t.Phrase}},actions:{getPhrase:function(t){var e=JSON.stringify({action:"getPhrase"});return new Promise(function(r,n){s.a.post(src+"/api.py",e).then(function(e){t.commit("markToken",null),t.commit("updatePhrase",e.data.phrase),r(e.data.phrase.skills)}).catch(function(t){console.log(t.statusText)})})}},mutations:{updatePhrase:function(t,e){t.Phrase=e},updateNer:function(t,e){for(var r=e.start;r<=e.stop;r++)"O"===e.type?n["a"].set(t.Phrase.ners[1],r,e.type):r===e.start?n["a"].set(t.Phrase.ners[1],r,"B-"+e.type):n["a"].set(t.Phrase.ners[1],r,"I-"+e.type);var a=!0,s=e.stop;while(a)t.Phrase.ners[1].length>s&&(s+=1,"O"===t.Phrase.ners[1][s]||t.Phrase.ners[1][s].startsWith("B-")?a=!1:n["a"].set(t.Phrase.ners[1],s,"O"))}}},St={state:{ListSkills:[]},getters:{ListSkills:function(t){return t.ListSkills}},actions:{getListSkills:function(t){var e=JSON.stringify({action:"getListSkills"});return new Promise(function(r,n){s.a.post(src+"/api.py",e).then(function(e){t.commit("updateListSkills",e.data.ListSkills)}).catch(function(t){console.log(t.statusText)})})},addSkill:function(t,e){var r=JSON.stringify({action:"addSkill",dataskill:JSON.stringify(e)});return new Promise(function(e,n){s.a.post(src+"/api.py",r).then(function(r){t.commit("updateListSkills",r.data.ListSkills),e()}).catch(function(t){console.log(t.statusText)})})}},mutations:{updateListSkills:function(t,e){var r=[];e.forEach(function(t){t["active"]=!1,r.push(t)}),r.sort(function(t,e){return e.count-t.count}),t.ListSkills=r},markFalseActiveListSkills:function(t){t.ListSkills.forEach(function(t){return t.active=!1})},markActiveListSkills:function(t,e){e.forEach(function(e){t.ListSkills.find(function(t){return t.id===e.id}).active=!0})}}},jt={actions:{savePhrase:function(t,e){var r=[];t.getters.ListSkills.forEach(function(t){!0===t.active&&r.push(t.id)});var n=JSON.stringify({action:"savePhrase",valid:e.valid,id:t.getters.Phrase.id,skills:JSON.stringify(r),ners:JSON.stringify(t.getters.Phrase.ners).replace(/"="/g,'"~equally"').replace(/"&"/g,'"~and"').replace(/";"/g,'"~tzpt"')});return new Promise(function(t,e){s.a.post(src+"/api.py",n).then(function(e){t()}).catch(function(t){console.log(t.statusText)})})},nero_refresh:function(t,e){var r=JSON.stringify({action:"nero_refresh",id:e});return new Promise(function(t,e){s.a.post(src+"/api.py",r).then(function(e){t(e.data.phrase)}).catch(function(t){console.log(t.statusText)})})}}},Vt={actions:{OpenEl:function(t,e){var r=JSON.stringify({action:"OpenEl",element:e});return new Promise(function(e,n){s.a.post(src+"/api.py",r).then(function(r){t.commit("markToken",null),console.log(r.data.phrase),e(r.data.phrase)}).catch(function(t){console.log(t.statusText)})})},PrevEl:function(t,e){var r=JSON.stringify({action:"PrevEl",element:e});return new Promise(function(e,n){s.a.post(src+"/api.py",r).then(function(r){t.commit("markToken",null),e(r.data.phrase)}).catch(function(t){console.log(t.statusText)})})},NextEl:function(t,e){var r=JSON.stringify({action:"NextEl",element:e});return new Promise(function(e,n){s.a.post(src+"/api.py",r).then(function(r){t.commit("markToken",null),e(r.data.phrase)}).catch(function(t){console.log(t.statusText)})})}}},Nt={state:{Ners:[],start:null,stop:null},getters:{start:function(t){return t.start},stop:function(t){return t.stop},Ners:function(t){return t.Ners}},actions:{getNers:function(t){var e=JSON.stringify({action:"getNers"});return new Promise(function(r,n){s.a.post(src+"/api.py",e).then(function(e){t.commit("updateNers",e.data.ners)}).catch(function(t){console.log(t.statusText)})})},addNer:function(t,e){var r=JSON.stringify({action:"addNer",ner:e});return new Promise(function(e,n){s.a.post(src+"/api.py",r).then(function(r){t.commit("updateNers",r.data.ners),e()}).catch(function(t){console.log(t.statusText)})})}},mutations:{updateNers:function(t,e){e.sort(function(t,e){return t.order-e.order}),t.Ners=e},markToken:function(t,e){void 0!=e&&(t.start=e[0],t.stop=e[1])}}};n["a"].use(v["a"]);var Et=new v["a"].Store({modules:{Phrase:wt,Skills:St,Action:jt,NumberPhrase:Vt,Ner:Nt}});n["a"].config.productionTip=!1,new n["a"]({store:Et,render:function(t){return t(xt)}}).$mount("#app")},"7fae":function(t,e,r){},aea2:function(t,e,r){"use strict";var n=r("7fae"),a=r.n(n);a.a},c759:function(t,e,r){"use strict";var n=r("d82f"),a=r.n(n);a.a},d82f:function(t,e,r){}});
//# sourceMappingURL=app.f2b4b1d1.js.map